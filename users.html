<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Nouveau transfert</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}

form {
  width: 500px;
  margin: 30px auto;
  background: white;
  padding: 20px;
  border-radius: 5px;
}

label {
  display: block;
  margin-top: 10px;
  font-weight: bold;
}

input, select, button {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
}

button {
  margin-top: 20px;
  background: #007bff;
  color: white;
  border: none;
  cursor: pointer;
}
</style>
</head>

<body>

<h2 style="text-align:center;">üì¶ Nouveau transfert</h2>

<form id="transferForm">

  <!-- EXP√âDITEUR -->
  <label>Pr√©nom exp√©diteur</label>
  <input type="text" name="senderFirstName" required>

  <label>Nom exp√©diteur</label>
  <input type="text" name="senderLastName" required>

  <label>T√©l√©phone exp√©diteur</label>
  <input type="text" name="senderPhone" required>

  <!-- ORIGINE (LISTE D√âROULANTE) -->
  <label>Lieu de d√©part</label>
  <select name="originLocation" required>
    <option value="">-- S√©lectionner --</option>
    <option value="Conakry">Conakry</option>
    <option value="Lab√©">Lab√©</option>
    <option value="France">France</option>
    <option value="Belgique">Belgique</option>
    <option value="New York">New York</option>
    <option value="Atlanta">Atlanta</option>
    <option value="Allemagne">Allemagne</option>
    <option value="Duba√Ø">Duba√Ø</option>
    <option value="Chine">Chine</option>
  </select>

  <label>Montant envoy√©</label>
  <input type="number" name="amount" required>

  <label>Frais</label>
  <input type="number" name="fees" required>

  <label>Pourcentage frais</label>
  <input type="number" name="feePercent" required>

  <!-- DESTINATAIRE -->
  <label>Pr√©nom destinataire</label>
  <input type="text" name="receiverFirstName" required>

  <label>Nom destinataire</label>
  <input type="text" name="receiverLastName" required>

  <label>T√©l√©phone destinataire</label>
  <input type="text" name="receiverPhone" required>

  <!-- DESTINATION (LISTE D√âROULANTE) -->
  <label>Lieu de destination</label>
  <select name="destinationLocation" required>
    <option value="">-- S√©lectionner --</option>
    <option value="Conakry">Conakry</option>
    <option value="Lab√©">Lab√©</option>
    <option value="France">France</option>
    <option value="Belgique">Belgique</option>
    <option value="New York">New York</option>
    <option value="Atlanta">Atlanta</option>
    <option value="Allemagne">Allemagne</option>
    <option value="Duba√Ø">Duba√Ø</option>
    <option value="Chine">Chine</option>
  </select>

  <label>Montant re√ßu</label>
  <input type="number" name="recoveryAmount" required>

  <label>Mode de r√©cup√©ration</label>
  <select name="recoveryMode" required>
    <option value="">-- S√©lectionner --</option>
    <option value="Cash">Cash</option>
    <option value="Mobile Money">Mobile Money</option>
    <option value="Virement bancaire">Virement bancaire</option>
  </select>

  <label>Mot de passe</label>
  <input type="password" name="password" required>

  <button type="submit">üíæ Enregistrer</button>
</form>

<script>
document.getElementById('transferForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const formData = Object.fromEntries(new FormData(e.target));

  const res = await fetch('/users', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData)
  });

  const data = await res.json();
  alert(data.message || 'Transfert enregistr√©');
});
</script>

</body>
</html>
