<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CrÃ©er un transfert</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #eef2f7;
}

form {
  background: #fff;
  width: 1000px;
  margin: 30px auto;
  padding: 20px;
  border-radius: 10px;
}

h2 {
  text-align: center;
  margin-bottom: 20px;
}

.container {
  display: flex;
  gap: 20px;
}

.box {
  flex: 1;
  padding: 15px;
  border-radius: 8px;
}

.origin {
  background: #e9f1ff;
  border: 2px solid #007bff;
}

.destination {
  background: #eaffea;
  border: 2px solid #28a745;
}

.box h3 {
  text-align: center;
  margin-bottom: 15px;
}

input, select, button {
  width: 100%;
  padding: 8px;
  margin-top: 10px;
}

button {
  margin-top: 20px;
  background: #007bff;
  color: #fff;
  font-size: 16px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
}

button:hover {
  background: #0056b3;
}
</style>
</head>

<body>

<form id="transferForm">
<h2>ğŸ’¸ CrÃ©ation dâ€™un transfert</h2>

<div class="container">

<!-- ================= ORIGINE ================= -->
<div class="box origin">
<h3>ğŸ“¤ ORIGINE</h3>

<input type="text" name="senderFirstName" placeholder="PrÃ©nom expÃ©diteur" required>
<input type="text" name="senderLastName" placeholder="Nom expÃ©diteur" required>
<input type="text" name="senderPhone" placeholder="TÃ©lÃ©phone expÃ©diteur" required>

<select name="originLocation" required>
  <option value="">ğŸŒ Lieu de dÃ©part</option>
  <option>Conakry</option>
  <option>LabÃ©</option>
  <option>France</option>
  <option>Belgique</option>
  <option>New York</option>
  <option>Atlanta</option>
  <option>Allemagne</option>
  <option>DubaÃ¯</option>
  <option>Chine</option>
</select>

<input type="number" name="amount" placeholder="Montant envoyÃ©" required>
<input type="number" name="fees" placeholder="Frais" required>
<input type="number" name="feePercent" placeholder="% frais" required>

</div>

<!-- ================= DESTINATION ================= -->
<div class="box destination">
<h3>ğŸ“¥ DESTINATION</h3>

<input type="text" name="receiverFirstName" placeholder="PrÃ©nom destinataire" required>
<input type="text" name="receiverLastName" placeholder="Nom destinataire" required>
<input type="text" name="receiverPhone" placeholder="TÃ©lÃ©phone destinataire" required>

<select name="destinationLocation" required>
  <option value="">ğŸŒ Lieu de destination</option>
  <option>Conakry</option>
  <option>LabÃ©</option>
  <option>France</option>
  <option>Belgique</option>
  <option>New York</option>
  <option>Atlanta</option>
  <option>Allemagne</option>
  <option>DubaÃ¯</option>
  <option>Chine</option>
</select>

<input type="number" name="recoveryAmount" placeholder="Montant Ã  recevoir" required>
<input type="text" name="recoveryMode" placeholder="Mode de rÃ©cupÃ©ration" required>

<input type="password" name="password" placeholder="Mot de passe" required>
</div>

</div>

<button type="submit">ğŸ’¾ Enregistrer le transfert</button>
</form>

<script>
document.getElementById('transferForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = Object.fromEntries(formData.entries());

  try {
    const res = await fetch('https://monapi-bf4o.onrender.com/users', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const result = await res.json();

    if (!res.ok) {
      alert(result.message || 'Erreur');
      return;
    }

    alert('âœ… Transfert enregistrÃ©\nCode : ' + result.code);
    e.target.reset();

  } catch (err) {
    console.error(err);
    alert('âŒ Erreur serveur');
  }
});
</script>

</body>
</html>
 